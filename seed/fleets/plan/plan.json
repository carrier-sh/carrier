{
  "id": "plan",
  "description": "Plan and validate code changes before implementation",
  "agent": "fleet-manager",
  "inputs": [{"type": "user_prompt", "source": "user"}],
  "outputs": [{"type": "fleet_result", "path": "result.md"}],
  "tasks": [
    {
      "id": "requirement-analyzer",
      "description": "Analyze and plan the code change requirements",
      "agent": "requirement-analyzer.md",
      "inputs": [{"type": "user_prompt", "source": "request"}],
      "outputs": [{"type": "file", "path": "requirements.md"}],
      "approval_required": false,
      "nextTasks": [
        {
          "taskId": "validator",
          "condition": "success"
        }
      ]
    },
    {
      "id": "validator",
      "description": "Validate the requirements and plan",
      "agent": "validator.md",
      "inputs": [
        {"type": "output", "source": "requirement-analyzer"},
        {"type": "user_prompt", "source": "request"}
      ],
      "outputs": [{"type": "file", "path": "validation.md"}],
      "approval_required": false,
      "nextTasks": [
        {
          "taskId": "complete",
          "condition": "success"
        },
        {
          "taskId": "requirement-analyzer",
          "condition": "failed",
          "context": "validation_failed"
        }
      ]
    }
  ]
}